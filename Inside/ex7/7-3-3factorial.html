<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script>

//        var fact = function() {
//            var cache = {'0' : 1};
//            var func = function(n) {
//                var result = 0;
//
//                if (typeof(cache[n]) === 'number') {
//                    result = cache[n];
//                } else {
//                    result = cache[n] = n * func(n - 1);
//                }
//
//                return result;
//            }
//
//            return func;
//        }();
//
//        console.log(fact(10));


        var cache = {};

        var x = function(a) {
            if (cache['' + a]) return cache['' + a];
            console.log(1)
            var result;
            console.log(2)
            result = a * a;
            console.log(3)
            cache['' + a] = result;
            console.log(4)
            return result;
        }





    </script>
</head>
<body>
</body>
</html>